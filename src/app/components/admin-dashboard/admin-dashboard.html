<html>
  <head>

  </head>
  <body>

<nav class="navbar">
  <div class="logo">🩺 HealthCare</div>
  <ul class="nav-links">
    <li><a href="/">Home</a></li>
    <li><a href="/register">Register</a></li>
    <li><a href="/login">Login</a></li>
    <li><a href="/user-dashboard">User Dashboard</a></li>
    <li><a href="/admin-dashboard">Admin Dashboard</a></li>
  </ul>
</nav>
<h2>Admin Dashboard</h2>

<!-- =========================
     Doctor Management
========================= -->
<section class="admin-section">
  <h3>👩‍⚕️ Manage Doctors</h3>

  <!-- Add Doctor Form -->
  <form (ngSubmit)="addDoctor()" class="form-section">
    <label>Name:</label>
    <input type="text" [(ngModel)]="newDoctor.name" name="name" required>

    <label>Specialization:</label>
    <input type="text" [(ngModel)]="newDoctor.specialization" name="specialization" required>

    <label>City:</label>
    <input type="text" [(ngModel)]="newDoctor.city" name="city" required>

    <label>Rating:</label>
    <input type="number" [(ngModel)]="newDoctor.rating" name="rating" min="0" max="5" step="0">

    <button type="submit">➕ Add Doctor</button>
  </form>

  <!-- Doctor List -->
  <div *ngIf="doctors.length > 0; else noDoctors">
    <table class="styled-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Specialization</th>
          <th>City</th>
          <th>Rating</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let doc of doctors">
          <td><input [(ngModel)]="doc.name" name="name-{{doc.id}}"></td>
          <td><input [(ngModel)]="doc.specialization" name="spec-{{doc.id}}"></td>
          <td><input [(ngModel)]="doc.city" name="city-{{doc.id}}"></td>
          <td>
            <input type="number" [(ngModel)]="doc.rating" name="rating-{{doc.id}}" min="0" max="5" step="0.1">
          </td>
          <td>
            <button (click)="updateDoctor(doc)">💾 Save</button>
            <button (click)="deleteDoctor(doc.id!)">🗑 Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #noDoctors>
    <p>No doctors found. Please add one.</p>
  </ng-template>
</section>

<hr>

<!-- =========================
     Appointment Management
========================= -->
<section class="admin-section">
  <h3>📅 Manage Appointments</h3>

  <!-- Filters -->
  <div class="form-section">
    <!-- <label>City:</label>
    <input type="text" [(ngModel)]="filterCity" placeholder="Enter city">

    <label>Date:</label>
    <input type="date" [(ngModel)]="filterDate">

    <button (click)="loadAppointments()">🔍 Search</button> -->
  </div>

  <!-- Appointment List -->
  <div *ngIf="appointments.length > 0; else noAppointments">
    <table class="styled-table">
      <thead>
        <tr>
          <th>User ID</th>
          <th>Doctor ID</th>
          <!-- <th>Date</th> -->
          <th>Time Slot</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let appt of appointments">
          <td>{{ appt.userId }}</td>
          <td>{{ appt.doctorId }}</td>
          <!-- <td>{{ appt.date | date }}</td> -->
          <td>{{ appt.timeSlot }}</td>
          <td>{{ appt.status }}</td>
          <td>
            <button (click)="confirm(appt.id!)">✅ Confirm</button>
            <button (click)="cancel(appt.id!)">❌ Cancel</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #noAppointments>
    <p>No appointments found for the selected filters.</p>
  </ng-template>
</section>
</body>
</html>

